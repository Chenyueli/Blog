---
layout: post
title: "js作用域引起的经典问题——js闭包"
date: 2017-03-19
excerpt: "closure"
tag:
- javascript

comments: false
---

## 一、什么是闭包？
**闭包就是能够读取其他函数内部变量的函数。**

	function f1(){
	　　　　var n=999;
	　　　　nAdd=function(){n+=1}
	　　　　function f2(){
	　　　　　　alert(n);
	　　　　}
	　　　　return f2;
	}
	var result=f1();
	result(); // 999
	nAdd();
	result(); // 1000

**代码中的f2函数，就是闭包。**在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。

## 二、闭包的用途：

- 可以读取函数内部的变量
- 让这些变量的值始终保持在内存中


## 三、闭包的缺点：

- 由于闭包会使得函数中的变量都被保存在内存中，**内存消耗很大**，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致**内存泄露**。解决方法是，在退出函数之前，将不使用的局部变量全部删除。

来源：<a href = "http://www.jb51.net/article/24101.htm">javascript深入理解js闭包</a>